
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>折腾来折腾去</title>
	<meta name="author" content="pikipity">

	
	<meta name="description" content="Miku Clock 来自猫牧場 如果您无法正常显示时钟，请下载 Adobe Flash Player About Me &#8211; pikipity pikipity 的小博客，搜罗最新最有意思的科技话题，展示自己的所知所学所感。 如果发现问题， &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="折腾来折腾去" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">折腾来折腾去</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/project">Project</a></li>
       <li><a href="/aboutme">AboutMe</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/project">Project</a></li>
       <li><a href="/aboutme">AboutMe</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:pikipity.github.io">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
		<a class="weibo" href="http://weibo.com/pikipitywz" title="Weibo">Weibo</a>
		
		
		<a class="github" href="https://github.com/pikipity" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="http://feed.feedsky.com/rsqe" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:pikipity.github.io">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">

    <aside class="sidebar">
      
        <section>
  <h1>Miku Clock</h1>
  <ul id="for_fun">
  来自<a href="http://nekokan.easter.ne.jp/flush/mikuclock.html">猫牧場</a>
  <embed src="/mikuclock.swf" width="150" height="180"><br/>
  如果您无法正常显示时钟，请下载 <a href="https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CDMQFjAA&url=http%3A%2F%2Fget.adobe.com%2Fflashplayer%2F&ei=tdsyUa_FB6i9iAfiooGoBg&usg=AFQjCNFV-EC-o0osKJm2dFwEBoUMPY6T2g&sig2=JhnyQZkKEKmbC248ALP2Fw&bvm=bv.43148975,d.aGc">Adobe Flash Player</a>
  </ul>
</section><section>
  <h1>About Me &#8211; pikipity</h1>
  <ul id="post">
  pikipity 的小博客，搜罗最新最有意思的科技话题，展示自己的所知所学所感。<p>
  
  <img src="/images/myface.gif" width="100pt"><p>
  
  如果发现问题，请在文章后面留言指出或是直接点<a href="mailto:pikipityw@gmail.com">这里</a>发邮件给我指正，谢谢。<p>
  
  pikipity Blog: <a href="http://pikipity.github.io/">pikipity.github.io</a>
  pikipity Email: <a href="mailto:pikipityw@gmail.com">pikipityw.gmail.com</a>
  
  使用IE浏览器可能无法得到完美的浏览体验，建议更换为<a href="https://www.google.com/intl/en/chrome/browser/"> Chrome 浏览器</a><p>

  </ul>
</section>

<section>
  <h1>Tag Cloud</h1>
    <ul id="tags">
    <span id="tag-cloud"><embed type='application/x-shockwave-flash' src='/javascripts/tagcloud.swf'width='100%' height='250' bgcolor='#f2f2f2' id='tagcloudflash' name='tagcloudflash' quality='high' allowscriptaccess='always'flashvars="tcolor=0x333333&amp;tcolor2=0x333333&amp;hicolor=0x000000&amp;tspeed=100&amp;distr=true&amp;mode=tags&amp;tagcloud=%3Ctags%3E%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Farduino%27+style%3D%27font-size%3A+16.857142857142858%25%27%3EArduino%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fassembly%27+style%3D%27font-size%3A+18.0%25%27%3EAssembly%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fc-%27+style%3D%27font-size%3A+12.285714285714285%25%27%3EC%2B%2B%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fcartoon%27+style%3D%27font-size%3A+16.857142857142858%25%27%3ECartoon%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fcircuit%27+style%3D%27font-size%3A+13.428571428571429%25%27%3ECircuit%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fgame%27+style%3D%27font-size%3A+21.42857142857143%25%27%3EGame%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fgithub%27+style%3D%27font-size%3A+13.428571428571429%25%27%3EGithub%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fgoogle%27+style%3D%27font-size%3A+29.428571428571427%25%27%3EGoogle%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fios%27+style%3D%27font-size%3A+18.0%25%27%3EIOS%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Flife%27+style%3D%27font-size%3A+50.0%25%27%3ELife%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Flinux%27+style%3D%27font-size%3A+19.142857142857142%25%27%3ELinux%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fmac%27+style%3D%27font-size%3A+28.285714285714285%25%27%3EMac%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fmatlab%27+style%3D%27font-size%3A+28.285714285714285%25%27%3EMatlab%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fmovie%27+style%3D%27font-size%3A+14.571428571428571%25%27%3EMovie%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Foctopress%27+style%3D%27font-size%3A+13.428571428571429%25%27%3EOctopress%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fothers%27+style%3D%27font-size%3A+20.285714285714285%25%27%3EOthers%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fprocessing%27+style%3D%27font-size%3A+18.0%25%27%3EProcessing%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fpython%27+style%3D%27font-size%3A+16.857142857142858%25%27%3EPython%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Fscm%27+style%3D%27font-size%3A+30.571428571428573%25%27%3ESCM%3C%2Fa%3E+%3Ca+href%3D%27http%3A%2F%2Fpikipity.github.io%2Fblog%2Fcategories%2Ftechnology%27+style%3D%27font-size%3A+28.285714285714285%25%27%3ETechnology%3C%2Fa%3E+%3C%2Ftags%3E"></span>
    如果您无法正常显示云标签，请下载 <a href="https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CDMQFjAA&url=http%3A%2F%2Fget.adobe.com%2Fflashplayer%2F&ei=tdsyUa_FB6i9iAfiooGoBg&usg=AFQjCNFV-EC-o0osKJm2dFwEBoUMPY6T2g&sig2=JhnyQZkKEKmbC248ALP2Fw&bvm=bv.43148975,d.aGc">Adobe Flash Player</a>
   </ul>
</section>

<section>
  <h2>Recent Post</h2>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/weilaifuyin.html">空之境界&#8211;未来福音（720P）</a>
      </li>
    
      <li class="post">
        <a href="/blog/auto-home-control.html">自动家庭电源控制系统半成品放出</a>
      </li>
    
      <li class="post">
        <a href="/blog/little-mr.html">Little Mr. (processing)</a>
      </li>
    
      <li class="post">
        <a href="/blog/robot-youtube1.html">奇奇怪怪的机器人</a>
      </li>
    
      <li class="post">
        <a href="/blog/langton-ant.html">兰顿蚂蚁（Ncurses）</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Who are visiting</h1>
  <ul id="for_fun">
  <script type="text/javascript" src="http://jb.revolvermaps.com/2/1.js?i=1p1ij0eyux4&amp;s=190&amp;m=7&amp;v=false&amp;r=false&amp;b=000000&amp;n=false&amp;c=ff0000" async="async"></script>
  </ul>
</section><section>
<h1>Copyright Agreement</h1>
<ul id="copyright">
<a rel="license"
  href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh"><img
  alt="知识共享许可协议" style="border-width:0"
  src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png"
  /></a><br />本作品采用<a rel="license"
  href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh">知识
  共享署名-非商业性使用-相同方式共享 3.0 未本地化版本许可协议</a>进行
  许可。<p>

  如果您想转载本网站下的博文，请注明作者和出处。如果文章内没有特别说明，文章皆为原创，请将出处注明为那篇文章的网址；如果文章内特别指明为转载，请将出处注明为原始文章的网址。非常感谢。<p>
</ul>
</section>
      
    </aside>



    <article class="post">
	<h2 class="title">
		
		<a href="/blog/funny-gif.html">
		
			电风扇如何用一个马达同时完成转动扇叶和摆头</a>
	</h2>
	<div class="meta">
	       <div class="author" style="float:left;">
  

<span class="byline author vcard">Posted by <span class="fn">pikipity</span></span>
&nbsp;</div>
		<div class="date" style="float:left;">








  


<time datetime="2013-11-10T10:33:00+08:00" pubdate data-updated="true">2013年11月10日</time></div>
		<div class="tags" style="float:left;">


	<a class='category' href='/blog/categories/life/'>Life</a>


</div>
		
			<span class="comments"><a href="/blog/funny-gif.html#com_target">Comments</a></span>
		
	</div>
	<div class="entry-content" style="clear:both;">
		<p>今天看到一个 GIF 图，很有意思，重点不是机械的原理，重点是这种 GIF 图怎么做啊！（误）</p>

<p><img src="https://lh6.googleusercontent.com/-w8KIYt_Ep_o/Un7wADaDW3I/AAAAAAAABTw/1kPaM-PeNSg/s500/1fff2111.gif" alt="电风扇原理" /></p>

		
		
	</div>


</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/sketchpad.html">
		
			一起将 Processing 镶嵌在网页上</a>
	</h2>
	<div class="meta">
	       <div class="author" style="float:left;">
  

<span class="byline author vcard">Posted by <span class="fn">pikipity</span></span>
&nbsp;</div>
		<div class="date" style="float:left;">








  


<time datetime="2013-11-05T21:42:00+08:00" pubdate data-updated="true">2013年11月05日</time></div>
		<div class="tags" style="float:left;">


	<a class='category' href='/blog/categories/processing/'>Processing</a>


</div>
		
			<span class="comments"><a href="/blog/sketchpad.html#com_target">Comments</a></span>
		
	</div>
	<div class="entry-content" style="clear:both;">
		<p>一直想找一种方法，将 processing 生成的程序放到网页上。在搜索了一番 Google 之后发现要使用 <a href="http://processingjs.org/">processing.js</a> 才可以，但是要设置自己的网页才可以，太麻烦了，于是就放弃了。今天在浏览 <a href="http://processingjs.org/">processing.js</a> 官网说明的时候发现，在<a href="http://processingjs.org/articles/p5QuickStart.html">《Processing.js Quick Start - Processing Developer Edition》</a>一文中介绍了以下两个网站可以在线编写并共享自己的 processing 代码和效果：</p>

<ol>
  <li>
    <p><a href="http://sketchpad.cc/">sketchpad</a></p>

    <p>这个网站上，不仅可以实现在线编写和分享代码，还可以自由浏览别人的共享代码，所有程序的效果可以实时演示，编辑器中还提供多人合作功能，很方便。</p>

    <p>缺点也很显著，编辑器虽然提供语法高亮，但是高不高亮完全没有用，所有文字一个颜色（只有 class 部分和别的不一个颜色）。第二个缺点不晓得是不是我浏览器的问题，贴出来的动画会播放一段时间之后突然放大，导致鼠标定位出现错误，很是奇怪。</p>

    <p><img src="https://lh3.googleusercontent.com/-Cx0ZXzkD2ho/UnkDB9mWrDI/AAAAAAAABTc/FiQVDRkoVCs/s912/%25E5%25B1%258F%25E5%25B9%2595%25E5%25BF%25AB%25E7%2585%25A7%25202013-11-05%2520%25E4%25B8%258B%25E5%258D%258810.22.47.png" alt="sketchpad 编辑器界面" /></p>

    <p>下面是我为了测试编写的一段小代码：</p>

    <iframe id="ifr" width="200" height="235" scrolling="no" style="background: url(http://studio.processingtogether.com/static/img/jun09/pad/connectingbar.gif) no-repeat center 60px;" src="http://studio.processingtogether.com/sp/pad/iframe/ro.9DUd1JyjanBXc/rev.925?autostart=0"></iframe>
  </li>
  <li>
    <p><a href="http://hascanvas.com/">hascanvas</a></p>

    <p>这个网站设计的很独特，编辑器隐藏在左边，鼠标靠近浏览器左边缘的时候，编辑器就会自动弹出，鼠标移开编辑区后，就会保存一次代码并编译，结果就显示在整个页面上。但是我用和上面一模一样的代码进行测试始终报错，这里只好拿别人的代码演示一下了。（貌似鼠标位置依然有偏差）</p>

    <iframe src="http://hascanvas.com/crossing/embed" frameborder="0" scrolling="no" style="width:600px;height:400px;"></iframe>

    <p><img src="https://lh6.googleusercontent.com/-gSeb362FAWw/UnkDCOO0AMI/AAAAAAAABTg/7bDgI4cjK80/s912/%25E5%25B1%258F%25E5%25B9%2595%25E5%25BF%25AB%25E7%2585%25A7%25202013-11-05%2520%25E4%25B8%258B%25E5%258D%258810.36.00.png" alt="hascanvas 界面" /></p>
  </li>
</ol>

		
		
	</div>


</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/qc12864b-library.html">
		
			QC12864B 控制库</a>
	</h2>
	<div class="meta">
	       <div class="author" style="float:left;">
  

<span class="byline author vcard">Posted by <span class="fn">pikipity</span></span>
&nbsp;</div>
		<div class="date" style="float:left;">








  


<time datetime="2013-10-27T16:27:00+08:00" pubdate data-updated="true">2013年10月27日</time></div>
		<div class="tags" style="float:left;">


	<a class='category' href='/blog/categories/scm/'>SCM</a>


</div>
		
			<span class="comments"><a href="/blog/qc12864b-library.html#com_target">Comments</a></span>
		
	</div>
	<div class="entry-content" style="clear:both;">
		<p>为了方便自己使用 8051 对 QC12864B 的控制编写了一个库文件。</p>

<p>QC12864B 自带字库，并且字库中带有中文，使用 ST7920 作为控制器。<a href="http://pan.baidu.com/s/1qrhEF">这里有关于 QC12864B 的说明文档下载</a></p>

<p>此项目可以到<a href="https://github.com/pikipity/QC12864B_8051.git">这里</a>查看和下载源代码。具体的使用信息，可以到 wiki 查询：</p>

<ol>
  <li><a href="https://github.com/pikipity/QC12864B_8051/wiki/How-to-use">How to use</a>：包括软件中如何引用和硬件如何连接的说明。</li>
  <li><a href="https://github.com/pikipity/QC12864B_8051/wiki/Functions">Function</a>：介绍了几个主要会使用到的函数。</li>
</ol>

<p>这里有一段视频项目中 <code>teasting</code> 文件夹中程序的运行结果：</p>

<embed pluginspage="http://www.macromedia.com/go/getflashplayer" src="http://you.video.sina.com.cn/api/sinawebApi/outplayrefer.php/vid=117845240_3342829334_bh28RyE5DTLK+l1lHz2stqlF+6xCpv2xhGm3v1CsJwdaVgiYJMXNb9wG5yHSBc1G8XoLHcwydP8h3xkoaq5Y/s.swf" type="application/x-shockwave-flash" name="sinaplayer" allowfullscreen="true" width="480" height="370" />


		
		
	</div>


</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/15-year.html">
		
			粘着系男子的15年纠缠不休</a>
	</h2>
	<div class="meta">
	       <div class="author" style="float:left;">
  

<span class="byline author vcard">Posted by <span class="fn">pikipity</span></span>
&nbsp;</div>
		<div class="date" style="float:left;">








  


<time datetime="2013-10-26T22:27:00+08:00" pubdate data-updated="true">2013年10月26日</time></div>
		<div class="tags" style="float:left;">


	<a class='category' href='/blog/categories/cartoon/'>Cartoon</a>, <a class='category' href='/blog/categories/life/'>Life</a>


</div>
		
			<span class="comments"><a href="/blog/15-year.html#com_target">Comments</a></span>
		
	</div>
	<div class="entry-content" style="clear:both;">
		<p>看到最后才发现是大虐。。。</p>

<embed height="452" width="544" quality="high" allowfullscreen="true" type="application/x-shockwave-flash" src="http://static.hdslb.com/miniloader.swf" flashvars="aid=114900&amp;page=1" pluginspage="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash" />


		
		
	</div>


</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/ios-in-word.html">
		
			IOS7 是在 Word 里面设计出来的么？</a>
	</h2>
	<div class="meta">
	       <div class="author" style="float:left;">
  

<span class="byline author vcard">Posted by <span class="fn">pikipity</span></span>
&nbsp;</div>
		<div class="date" style="float:left;">








  


<time datetime="2013-10-23T23:05:00+08:00" pubdate data-updated="true">2013年10月23日</time></div>
		<div class="tags" style="float:left;">


	<a class='category' href='/blog/categories/ios/'>IOS</a>


</div>
		
			<span class="comments"><a href="/blog/ios-in-word.html#com_target">Comments</a></span>
		
	</div>
	<div class="entry-content" style="clear:both;">
		<p>这个视频就是用来吐槽 IOS7 设计的吧，233333</p>

<embed src="http://player.youku.com/player.php/sid/XNjI1MTI5Mjgw/v.swf" allowfullscreen="true" quality="high" width="480" height="400" align="middle" allowscriptaccess="always" type="application/x-shockwave-flash" />


		
		
	</div>


</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/snake-8051.html">
		
			贪吃蛇（8051）</a>
	</h2>
	<div class="meta">
	       <div class="author" style="float:left;">
  

<span class="byline author vcard">Posted by <span class="fn">pikipity</span></span>
&nbsp;</div>
		<div class="date" style="float:left;">








  


<time datetime="2013-10-19T22:22:00+08:00" pubdate data-updated="true">2013年10月19日</time></div>
		<div class="tags" style="float:left;">


	<a class='category' href='/blog/categories/scm/'>SCM</a>


</div>
		
			<span class="comments"><a href="/blog/snake-8051.html#com_target">Comments</a></span>
		
	</div>
	<div class="entry-content" style="clear:both;">
		<h3 id="section">简介</h3>

<p>使用 AT89C52 制作的贪吃蛇游戏。练习在 8051 上使用实时多任务系统。你可以到<a href="http://pikipity.github.io/snake_8051/">这里下载源码</a>。</p>

<p>一开始的构想是利用 LCD12864 来作为显示屏，于是选择了自己比较熟悉的 ST7920 作为控制器的 LCD12864，毕竟之前也使用同样的显示屏用 Arduino 做过尔罗斯方块，虽然图像显示处理缓慢，但是应该还是可以使用的，测试之后的结果大失所望，由于过于过于缓慢的图像显示导致屏幕闪烁现象过于严重，并且导致任务堵塞，程序堵死，于是放弃。改儿使用 4 块 8*8 LED 矩阵来做显示屏，由于要自己撰写显示函数和游戏函数，程序量徒然增加，还出现了单片机内存不足的现象，经过调试，最终结果还算不错，以下基本功能都已经实现：</p>

<ol>
  <li>蛇和食物的显示。</li>
  <li>蛇的移动，包括碰撞边界和自身之后的死亡判定和碰撞食物的判定。</li>
  <li>蛇在吃掉食物之后的增长效果。</li>
</ol>

<p>由于 8051 单片机本身内存与机能的限制，还有很多预想功能未能实现：</p>

<ol>
  <li>食物位置不是随机的，永远固定。</li>
  <li>食物数量固定，就是开始游戏之后的那几个食物，不会再增加了，吃完就获胜。</li>
  <li>蛇的最大长度是固定的。</li>
  <li>蛇的初试长度与位置都不是随机的，永远固定。</li>
</ol>

<h3 id="section-1">文件说明：</h3>

<ol>
  <li>lcd12864 文件夹中是使用 lcd12864 制作的初版游戏。仅实现了蛇的移动和边界碰撞判定。闪烁现象严重</li>
  <li>
    <p>LCD_array 文件夹中是最终成品。使用 4 个 8*8 的 LED 点阵来作为显示，4个按钮控制上下左右，还有一个 Reset 键用来重启单片机（也就是重启游戏）。此文件夹中包括以下文件</p>

    <ul>
      <li>
        <p>circuit 文件夹：Proteus 仿真电路图，如下</p>

        <p><img src="https://lh5.googleusercontent.com/-lG-RF7FdufE/UmJ34xQ_jUI/AAAAAAAABS8/sQYAz3mA0DA/s720/circuit.jpg" alt="仿真电路图" /></p>
      </li>
      <li>
        <p>program 文件夹：烧录入单片机中的程序文档，包括</p>

        <ul>
          <li>Main.h, Sch51.h, Sch51.c, 2<em>01</em>12g.h, 2<em>01</em>12g.c: 实时多任务系统所需的文件，由《PATTERNS FOR TIME-TRIGGERED EMBEDDED SYSTEMS》一书提供。</li>
          <li>main.c: 主程序。main 函数所在。</li>
          <li>
            <p>ledarray.h, ledarray.c: LED 点阵显示函数：</p>

            <ul>
              <li>LED 点阵初始化函数：<code>led_init()</code></li>
              <li>绘制第一块与第二块 LED 点阵的函数：<code>draw1()</code></li>
              <li>绘制第三块与第四块 LED 点阵的函数：<code>draw2()</code></li>
              <li>清空显示的函数：<code>first_page()</code></li>
              <li>向某个坐标写入一个点的函数（左上角为原点，x轴正方向向右延伸，y轴正方向向下延伸，下同）：<code>set_dot()</code></li>
              <li>读取某个坐标是否有点存在的函数：<code>read_dot()</code></li>
            </ul>
          </li>
          <li>
            <p>game.h, game.c: 游戏控制及显示函数：</p>

            <ul>
              <li>根据蛇和食物的控制矩阵，向屏幕内绘制点的函数：<code>draw()</code></li>
              <li>控制蛇移动的函数：<code>move()</code></li>
              <li>检查按键的函数：<code>button()</code></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ol>

<h3 id="section-2">最终效果：</h3>

<ol>
  <li>
    <p>胜利</p>

    <div><object id="sinaplayer" width="480" height="370"><param name="allowScriptAccess" value="always" /><embed pluginspage="http://www.macromedia.com/go/getflashplayer" src="http://you.video.sina.com.cn/api/sinawebApi/outplayrefer.php/vid=117246371_3342829334_bBjjTyc/XmLK+l1lHz2stqlF+6xCpv2xhGm3v1CsJwdaVgiYJMXNb9wG5yvSBsxF8HoLHcwydP8h1Rkra61Z/s.swf" type="application/x-shockwave-flash" name="sinaplayer" allowfullscreen="true" allowscriptaccess="always" width="480" height="370" /></object></div>
  </li>
  <li>
    <p>失败</p>

    <div><object id="sinaplayer" width="480" height="370"><param name="allowScriptAccess" value="always" /><embed pluginspage="http://www.macromedia.com/go/getflashplayer" src="http://you.video.sina.com.cn/api/sinawebApi/outplayrefer.php/vid=117246399_3342829334_aBnnR3M5DGXK+l1lHz2stqlF+6xCpv2xhGm3v1CsJwdaVgiYJMXNb9wG5yvSBsxL+HoLHcwydP8h1Rkra6NR/s.swf" type="application/x-shockwave-flash" name="sinaplayer" allowfullscreen="true" allowscriptaccess="always" width="480" height="370" /></object></div>
  </li>
</ol>


		
		
	</div>


</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/clear-workspace-matlab.html">
		
			MATLAB 的函数中清理公用 Workspace</a>
	</h2>
	<div class="meta">
	       <div class="author" style="float:left;">
  

<span class="byline author vcard">Posted by <span class="fn">pikipity</span></span>
&nbsp;</div>
		<div class="date" style="float:left;">








  


<time datetime="2013-10-16T18:51:00+08:00" pubdate data-updated="true">2013年10月16日</time></div>
		<div class="tags" style="float:left;">


	<a class='category' href='/blog/categories/matlab/'>Matlab</a>


</div>
		
			<span class="comments"><a href="/blog/clear-workspace-matlab.html#com_target">Comments</a></span>
		
	</div>
	<div class="entry-content" style="clear:both;">
		<p>今天在编写一个 MATLAB 函数的时候，尝试使用 <code>clear all;</code> 来清理掉 workspace，结果运行后发现完全没有效果。查找了一下 MATLAB 的帮助文件才发现，每个函数在运行的时候都有自己的 workspace，所以如果在函数内部使用 <code>clear</code> 的话，清空的是函数自己的 workspace，不会影响到公用的 workspace。于是又到<a href="http://www.mathworks.com/matlabcentral/"> mathwork 的 MATLAB Center </a> 逛了一下，发现了一种很好的方法：使用 <code>evalin()</code> 函数。<a href="http://www.mathworks.com/matlabcentral/newsreader/view_thread/253314">原帖在这里</a>。</p>

<p>总结一下，就是使用下面的语句：</p>

<pre><code>evalin('caller','clear all');
</code></pre>

<p>或者使用</p>

<pre><code>evalin('base','clear all');
</code></pre>

<p>主要区别是，前一个不仅会清空公用 workspace，也会清空其他函数的 workspace。后一个仅仅只清空公用的 workspace。</p>

		
		
	</div>


</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/linker-51.html">
		
			Keil C 中不再编译未使用的函数</a>
	</h2>
	<div class="meta">
	       <div class="author" style="float:left;">
  

<span class="byline author vcard">Posted by <span class="fn">pikipity</span></span>
&nbsp;</div>
		<div class="date" style="float:left;">








  


<time datetime="2013-10-13T23:16:00+08:00" pubdate data-updated="true">2013年10月13日</time></div>
		<div class="tags" style="float:left;">


	<a class='category' href='/blog/categories/scm/'>SCM</a>


</div>
		
			<span class="comments"><a href="/blog/linker-51.html#com_target">Comments</a></span>
		
	</div>
	<div class="entry-content" style="clear:both;">
		<p>最近在为 AT89C52 编写 LCD12864 的头文件的时候发现 Keil 竟然无法自动识别未使用的函数，也就是说 Keil 会将所有函数全部编译一边，如果 main 函数中没有使用某个函数的话，这个没使用的函数不仅占用了单片机的内存，在编译结束后的 Warning 也让人很不舒服。所以去搜索了一下，大体有两种解决方法：</p>

<ol>
  <li>添加注释或者编译开关：如果对于小项目，这种方法的确可行，但是如果想编写一个具有通用意义的头文件的话，要一个个把不用的头文件注释掉，显然不实际。每次使用头文件都要修改一次注释和编译开关也不现实。所以这个方法不具有普遍适用意义。</li>
  <li>各个函数分别编写一个 C 文件，然后仅将用到的函数编译为 OBJ。每次使用头文件都要找到需要的函数然后编译一次，也很麻烦，此方法显然也不具有普遍适用意义。</li>
</ol>

<p>既然 Keil 默然的连接器无法识别未使用的函数，那么可不可以试试别的连接器呢？于是去<a href="http://www.keil.com/"> Keil 的官网</a>逛了一圈，发现 Keil 本身就可以将默认的连接器 BL51 换为另一种连接器 LX51。赶紧更换一下试一试，更换步骤如下：</p>

<ol>
  <li>工具栏 <code>Project</code> -&gt; 选择 <code>Options For Target 'xx'</code>。</li>
  <li>在 <code>Device</code> 选项卡，选中 <code>Use Extended Linker(LX51) instead of BL51</code>。</li>
</ol>

<p>但是编译一中发现问题依然没有解决，这是怎么回事呢？应该是还需要添加编译选项吧。于是又去看了一下<a href="http://www.keil.com/support/man/docs/lx51/default.htm"> LX 51 说明文档</a>，发现了 “REMOVEUNUSED” 这样一个选项：</p>

<blockquote>
  <p>The <strong>REMOVEUNUSED</strong> directive removes unused program and data segments provided that Data Overlaying is enabled. When you apply this directive unused functions along with the related data segments are deleted in the final executable program.</p>
</blockquote>

<p>这不就是我需要的嘛！！赶紧加上去：</p>

<p>在 <code>Options For Target 'xx'</code> 中的 <code>LX51 Misc</code> 选项卡中的 <code>Misc controls</code> 填写 “REMOVEUNUSED”。</p>

<p>再次编译，发现 Warning 不见了，编译之后的 hex 文件也小了，问题解决。</p>

<p>总结一下，就是三步：</p>

<ol>
  <li>工具栏 <code>Project</code> -&gt; 选择 <code>Options For Target 'xx'</code>。</li>
  <li>在 <code>Device</code> 选项卡，选中 <code>Use Extended Linker(LX51) instead of BL51</code>。</li>
  <li>在  <code>LX51 Misc</code> 选项卡中的 <code>Misc controls</code>， 填写 “REMOVEUNUSED”（不加引号）。</li>
</ol>


		
		
	</div>


</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/process-on.html">
		
			多人实时合作免费在线绘图软件 &#8211; Process On</a>
	</h2>
	<div class="meta">
	       <div class="author" style="float:left;">
  

<span class="byline author vcard">Posted by <span class="fn">pikipity</span></span>
&nbsp;</div>
		<div class="date" style="float:left;">








  


<time datetime="2013-10-05T08:51:00+08:00" pubdate data-updated="true">2013年10月05日</time></div>
		<div class="tags" style="float:left;">


	<a class='category' href='/blog/categories/life/'>Life</a>


</div>
		
			<span class="comments"><a href="/blog/process-on.html#com_target">Comments</a></span>
		
	</div>
	<div class="entry-content" style="clear:both;">
		<p><img src="https://lh4.googleusercontent.com/-Q0n9wEE-bYA/Uk9jd08BJuI/AAAAAAAABR4/QGkUPxMBvR8/s912/%25E5%25B1%258F%25E5%25B9%2595%25E5%25BF%25AB%25E7%2585%25A7%25202013-10-05%2520%25E4%25B8%258A%25E5%258D%25888.48.46.png" alt="Process On" /></p>

<p>今天推荐一款用来绘图的在线应用 – <a href="http://www.processon.com/">Process On</a>，其内置了多种模版，非常适合绘制结构性很强的图片，例如流程图等。</p>

<p><img src="https://lh5.googleusercontent.com/-DX51QUQnnts/Uk9kIfSkO-I/AAAAAAAABSA/KqhLYRS-gOU/s720/%25E5%25B1%258F%25E5%25B9%2595%25E5%25BF%25AB%25E7%2585%25A7%25202013-10-05%2520%25E4%25B8%258A%25E5%258D%25888.56.29.png" alt="内置模版" /></p>

<p><img src="https://lh6.googleusercontent.com/-Qow5by5ZDps/Uk9krAeS5nI/AAAAAAAABSM/xHXpGkEiW_E/s912/%25E5%25B1%258F%25E5%25B9%2595%25E5%25BF%25AB%25E7%2585%25A7%25202013-10-05%2520%25E4%25B8%258A%25E5%258D%25888.58.58.png" alt="绘制界面" /></p>

<p>上图就是绘制界面了，也许第一眼看是去觉得及其普通，甚至左边所提供的备选图形都和<a href="http://dia-installer.de/">开源软件 Dia</a>如出一辙。的确，其绘图功能没有什么出众的地方，如果想快速绘制出专业的流程图，这款软件并不是一个很好地选择，毕竟<a href="http://office.microsoft.com/en-us/visio/">微软的 Visio</a> 比它专业几百倍。但是今天之所以推荐它，是因为其强大的在线多人合作功能。这里所说的多人合作不是指一人保存退出之后其他人才可以观看和修改，如果是那样的话，用 <a href="https://www.dropbox.com">Dropbox</a> 就可以了，这里所说的合作是实时合作，只要每个人都在线，就可以由作者通过“邀请协作者”的方式将其他人添加入编辑群中，每个协作者的修改都会实时显示在其他协作者的画面上。如果协作者们距离很远，还可以通过内置的“聊天”功能来进行讨论。很大程度上方便了多人流程图绘制的问题，再也不会出现，一个人掌握电脑其他人在旁边七嘴八舌导致操作者不知道应该如何是好的情况。</p>

<p><img src="https://lh6.googleusercontent.com/-iR6I-HdwVgY/Uk9p3JLSJNI/AAAAAAAABSg/syr21nwsI3Q/s740/%25E5%25B1%258F%25E5%25B9%2595%25E5%25BF%25AB%25E7%2585%25A7%25202013-10-05%2520%25E4%25B8%258A%25E5%258D%25889.19.13.png" alt=" Visio 文件导入帮助" /></p>

<p>并且其支持 <a href="http://office.microsoft.com/en-us/visio/">Visio</a> 文件的导入。还有一个类似于社交网络的共享圈，可以通过关注其他人来了解对方正在制作什么样的图片，也可以通过搜索来发现其他人共享出来的图片。总而言之，这是一款不可多得多人实时在线合作绘图网站。</p>

<p><img src="https://lh6.googleusercontent.com/-Rh-C4psyJ84/Uk9p3JQe4AI/AAAAAAAABSk/gozi3_wdROw/s912/%25E5%25B1%258F%25E5%25B9%2595%25E5%25BF%25AB%25E7%2585%25A7%25202013-10-05%2520%25E4%25B8%258A%25E5%258D%25889.18.27.png" alt="类似于社交网络的共享圈" /></p>

<p><a href="http://www.processon.com/">这里是 Process On 的网址，免费注册和使用。</a></p>

<p><a href="https://chrome.google.com/webstore/detail/processon-online-diagramm/pnggaliohjcaboolkcpjhfondbjlehkm?utm_source=chrome-ntp-icon">Chrome 上没有 Process On 的在线编辑器的应用，只有一个网站快捷方式的应用</a></p>


		
		
	</div>


</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/ummoodle-pdf.html">
		
			解决澳门大学 Ummoodle 上 PDF 文件在 IOS 无法正常打开或下载的问题</a>
	</h2>
	<div class="meta">
	       <div class="author" style="float:left;">
  

<span class="byline author vcard">Posted by <span class="fn">pikipity</span></span>
&nbsp;</div>
		<div class="date" style="float:left;">








  


<time datetime="2013-10-04T21:11:00+08:00" pubdate data-updated="true">2013年10月04日</time></div>
		<div class="tags" style="float:left;">


	<a class='category' href='/blog/categories/ios/'>IOS</a>, <a class='category' href='/blog/categories/life/'>Life</a>


</div>
		
			<span class="comments"><a href="/blog/ummoodle-pdf.html#com_target">Comments</a></span>
		
	</div>
	<div class="entry-content" style="clear:both;">
		<p>澳门大学的 ummoodle 在更新之后就出现了 pdf 文件在 IOS 设备上无法正常打开的状况，打开包含 pdf 的网页之后就会出现如下画面：</p>

<p><img src="https://lh3.googleusercontent.com/-QQxd0viyyg8/Uk7Cc9wZh5I/AAAAAAAABRE/reSNdTtOBrA/s512/%25E7%2585%25A7%25E7%2589%2587%252004-10-2013%252009%252020%252019%2520PM.png" alt="无法拖动和下载的 pdf 文件" /></p>

<p>pdf 文件就好像一个没有完整显示的图片一样在那里，没法下载和拖动。但是此问题仅限于 IOS 设备里的浏览器，电脑上的浏览器可以正常显示，Android 设备上无法显示文件，但是会显示一条链接，点击连接之后就可以下载文件了，所以很显然是 IOS 设备的浏览器对于网页的解析出现了问题，于是我研究了一下一个含有 pdf 文件的网页，发下了下面的一段代码：</p>

<pre><code>&lt;object id="resourceobject" data="https://ummoodle.umac.mo/pluginfile.php/74630/mod_resource/content/1/elec414-2013-2.pdf" type="application/pdf" width="800" height="600"&gt;

&lt;param name="src" value="https://ummoodle.umac.mo/pluginfile.php/74630/mod_resource/content/1/elec414-2013-2.pdf" /&gt;

Click &lt;a href="https://ummoodle.umac.mo/pluginfile.php/74630/mod_resource/content/1/elec414-2013-2.pdf" &gt;elec414-2013-2.pdf&lt;/a&gt; link to view the file.

&lt;/object&gt;
</code></pre>

<p>很显然，网页本身是想调用 IOS 内置的 pdf 阅览器来浏览 pdf 文件，但是由于浏览器排版的原因（固定宽高的设定很明显不适合移动设备啊），导致此被预览的 pdf 文件被其他区块所覆盖，进而导致用户无法对 pdf 文件进行操作。由于 Android 系统没有内置 pdf 阅览器，所以只会显示文件链接，从而避免了排版问题。</p>

<p>既然原因找到，那么就来想一想解决方法吧。很显然，学校对网页的改进还需要时间，那么就从自身做起吧，基本来说想到了两种解决方案：</p>

<ol>
  <li>禁用 IOS 内置的 pdf 阅览器。这个方法比较复杂，由于 IOS 取消了 safari 设置中“禁用内置 pdf 阅览器”的选项，导致现在想要禁用 pdf 阅览器就必须直接删除<code>/Library/</code>下的 pdf 阅览器的插件才行，必须越狱之后安装 iFile 才可以。此方法不仅麻烦，由于需要触碰到系统文件，还比较危险，一旦删错文件，后果不堪设想。</li>
  <li>使用 moodle 的 APP，例如 <a href="https://itunes.apple.com/us/app/my-moodle/id461289000?mt=8">My Moodle</a> 和 <a href="https://itunes.apple.com/au/app/moodle-mobile/id633359593?mt=8">Moodle Mobile</a>，暂时我还没有使用过，但是据使用者说，可以正常打开 pdf 文件。</li>
  <li>
    <p>直接浏览目标网页的 html 源代码，找到 pdf 文件原始地址来打开。我选择使用这种方法，一次设置之后，以后使用也很方便，熟练以后，因为 ummoodle 的各个网页的 html 代码结构都差不多，所以也是很快捷的。由于 IOS 上的 safari 浏览器无法直接查看源代码，所以需要借助一些可以查看 html 的网站来实现这个方法，我借助的是<a href="http://ole.michelsen.dk/blog/view-source-on-the-ipad-and-iphone/">这个</a>网站的方法。原理就是利用 “GeSHi” 这个小程序将网页发送给 “ole.michelsen.dk” 的服务器来解析网页的 html 代码，然后显示出来（还带有代码高亮呦！！）。具体的设置如下：</p>

    <ol>
      <li>
        <p>在 IOS 上用 safari 随便打开一个网页，然后保存为书签，为了以后方便，书签起名叫“查看源代码”</p>

        <p><img src="https://lh6.googleusercontent.com/-GJzD1e5flq4/Uk7CacaecPI/AAAAAAAABQM/7yNUfqyc85s/s512/%25E7%2585%25A7%25E7%2589%2587%252004-10-2013%252009%252002%252034%2520PM.png" alt="我这里保存 Google 为书签" /></p>

        <p><img src="https://lh3.googleusercontent.com/-UwnXN2sL5Dc/Uk7CaT4DWHI/AAAAAAAABQY/TRDTziQF2pQ/s512/%25E7%2585%25A7%25E7%2589%2587%252004-10-2013%252009%252003%252059%2520PM.png" alt="书签起名叫“查看源代码”" /></p>
      </li>
      <li>
        <p>打开<a href="http://ole.michelsen.dk/viewsource/bookmarklet.min.js">这个</a>链接，将里面的内容全选并复制。</p>

        <p><img src="https://lh3.googleusercontent.com/-HMF-lKk1y-M/Uk7CclMamRI/AAAAAAAABRA/HzhlBHulUBA/s512/%25E7%2585%25A7%25E7%2589%2587%252004-10-2013%252009%252007%252032%2520PM.png" alt="复制所有内容" /></p>
      </li>
      <li>
        <p>在书签中找到刚才保存的书签，并将刚才复制的内容粘贴到此书签的 URL 处，点击“完成”保存书签就可以了。</p>

        <p><img src="https://lh4.googleusercontent.com/-HsLL8-EF6tk/Uk7CaRtwBII/AAAAAAAABQU/Tjad3nkRsko/s512/%25E7%2585%25A7%25E7%2589%2587%252004-10-2013%252009%252004%252027%2520PM.png" alt="编辑“查看源代码”书签" /></p>

        <p><img src="https://lh4.googleusercontent.com/-WzvU_jk6DA0/Uk7CbGpBFeI/AAAAAAAABQg/fm0VEzchE0U/s512/%25E7%2585%25A7%25E7%2589%2587%252004-10-2013%252009%252004%252040%2520PM.png" alt="将复制的内容粘贴到书签 URL 处" />
如果想要下载某个网页的 pdf 文件，就先打开那个含 pdf 文件的网页，然后点击“查看源代码”的书签，就会打开网页的源代码，然后找到其中包含 pdf 文件源地址的部分（很好找的），点击源地址下载就可以了。</p>
      </li>
    </ol>

    <p><img src="https://lh3.googleusercontent.com/-f0W97s6s1pQ/Uk7ON6MtNQI/AAAAAAAABRY/iqaaVByPcYk/s512/%25E7%2585%25A7%25E7%2589%2587%252004-10-2013%252009%252005%252051%2520PM.png" alt="含有 pdf 文件的网站，点击“查看源代码”的书签（可以把书签放在书签栏方便查找）" /></p>

    <p><img src="https://lh5.googleusercontent.com/-oCYL-kJ0eCM/Uk7CbpDIoEI/AAAAAAAABQs/73VVyzHxwg8/s512/%25E7%2585%25A7%25E7%2589%2587%252004-10-2013%252009%252006%252016%2520PM.png" alt="html 中包含 pdf 文件源地址的部分" /></p>

    <p><img src="https://lh4.googleusercontent.com/-I6jQKkkt67A/Uk7CcDHtE2I/AAAAAAAABQ4/_Q-EJqEbLYk/s512/%25E7%2585%25A7%25E7%2589%2587%252004-10-2013%252009%252006%252028%2520PM.png" alt="点击 pdf 文件源地址就可以正常打开 pdf 文件了" /></p>
  </li>
</ol>

<p>PS: ICTO 回复了相关问题，回复邮件内容如下：</p>

<pre><code>For this case, please advice your teacher to change the "Appearance" option of the PDF file to "New window" in UMMoodle and this will solve your problem.
</code></pre>

		
		
	</div>


</article>


<nav id="pagenavi">
    
        <a href="/blog/page/2/" class="prev">Prev</a>
    
    
        <a href="/blog/page/4/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    pikipity



</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->




	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-38118079-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>